<!-- eslint-disable vue/multi-word-component-names -->
<template>
  <div>

    <!-- ç”µè„‘ -->
    <div v-if="!this.$store.state.IsMobile" class="desktop my-wrapper">
      <!-- å¯¼èˆªæ  -->
      <div class="navbar">
        <div @click="click_notfenlei(0)" style="cursor: pointer;" class="xiba" title="è¥¿å…«å’¯å˜›">è¥¿å·´ã®åšå®¢</div>
        
        <div   
        :class="['navbarItem', 
        { active: column.active }]" 
        v-for="(column, index) in navbarItem" :key="index"
        @click="column.title==='åˆ†ç±»'?show_fenlei=!show_fenlei:click_notfenlei(index)"
        >
          <div v-if="column.title==='åˆ†ç±»'" class="dropdown-toggle">
            {{ column.title }}
            <div v-if="show_fenlei" v-click-outside="fenlei_click_outside" class="dropdown-menu">
                <a v-show="false" class="dropdown-item" href="#" @click.stop="click_fenlei(0)">æ— </a>
                <!-- Here you can render the dropdown items -->
                <div class="dropdown-item" 
                    v-for="(item, index) in option1m" :key="index"
                    @click.stop="click_fenlei(item.value)">
                    {{item.text}}
                </div>
            </div>
          </div>
          <div v-else>{{ column.title }}</div>
        </div>


       <div class="navR">
            <div style="display: flex;justify-content: center;align-items: center;margin-right: 10px;cursor: pointer;" title="åˆ‡æ¢æ˜æš—ä¸»é¢˜è‰²">
                <svg v-if="$store.state.light_svg_show" @click="switch_change(true)" t="1721842952165" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1658" width="24" height="24"><path d="M480 160V64h64v96h-64z m180.288 31.168l48-83.136 55.424 32-48 83.136-55.424-32zM512 736a224 224 0 1 0 0-448 224 224 0 0 0 0 448z m0 64a288 288 0 1 0 0-576 288 288 0 0 0 0 576z m352-320h96v64h-96v-64z m19.968-219.712l-83.136 48 32 55.424 83.136-48-32-55.424zM260.288 140.032l48 83.136 55.424-32-48-83.136-55.424 32z m-69.12 223.68l-83.136-48 32-55.424 83.136 48-32 55.424zM480 864v96h64v-96h-64zM160 480H64v64h96v-64z m-51.968 228.288l83.136-48 32 55.424-83.136 48-32-55.424z m200.256 92.544l-48 83.168 55.424 32 48-83.168-55.424-32z m400 115.168l-48-83.168 55.424-32 48 83.168-55.424 32z m92.544-200.288l83.136 48 32-55.424-83.136-48-32 55.424z" fill="#F0F8FF" p-id="1659"></path></svg>
                <svg v-else @click="switch_change(false)" t="1721845417024" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2757" width="24" height="24"><path d="M618.496 111.616c9.216 34.304 14.336 70.656 14.336 108.032 0 228.352-184.832 413.184-413.184 413.184-37.376 0-73.728-5.12-108.544-14.336 47.616 175.616 207.872 305.152 398.848 305.152 228.352 0 413.184-184.832 413.184-413.184 0-190.976-129.024-351.232-304.64-398.848z" fill="#F0F8FF" p-id="2758"></path></svg>
            </div> 
            <div style="display: flex;justify-content: center;align-items: center;margin-right: 10px;cursor: pointer;">
                <a href="https://www.travellings.cn/go.html" target="_blank" rel="noopener" title="å¼€å¾€-å‹é“¾æ¥åŠ›">
                    <span style="font-size: 21px;">ğŸš‡</span>
                </a>
            </div>
            <div style="display: flex;justify-content: center;align-items: center;margin-right: 10px;cursor: pointer;">
                <a href="https://foreverblog.cn/go.html" target="_blank" rel="noopener" title="åå¹´ä¹‹çº¦-å‹é“¾æ¥åŠ›">
                    <span style="font-size: 1rem;color:white;">åå¹´</span>
                </a>
            </div>
            <Search
                style="width: 100%;"
                v-model="input"
                shape="round"
                placeholder="search"
                @search="clicksearch(input)"
                :clearable="false"
            />
        </div>

        <!-- ç”¨æˆ·ä¿¡æ¯ -->
        <div   
        class="navbarItem login"
        style="width: fit-content;padding: 0 10px;"
        @click="$router.push('/user/info')"
        title="ç™»å½•æˆ–æŸ¥çœ‹"
        >
        {{$store.state.UserName?$store.state.UserName:"ç™»å½•"}}
        </div>

      </div>
      <div v-if="this.$route.name !== 'home'" style="height: 60px;"></div>

    

    </div>

    <!-- æ‰‹æœºç«¯ -->
    <div v-else class="my-wrapper">
      <!-- è¿”å›å¤´æ ‡ -->
      <div v-if="true" class="demo-nav" style="">
        <div class="demo-nav__title">{{this.$route.meta.title.replace("å¸­å·´å•†åŸ -","")}}
          <span v-if="this.$route.name === 'kefu'"> {{ "- "+$store.state.kefu_name }}</span>
          <span v-if="this.$route.name === 'fanorguanzhu'"> {{ "- "+$store.state.fanorguanzhu_name }}</span>
          <span v-if="this.$route.name === 'userchat'" @click="$router.push(`/user/otheruserinfo?user_id=${$store.state.userchat_id}`)"> {{ "- "+$store.state.userchat_name }}</span>
        </div>
        <svg viewBox="0 0 1000 1000" class="demo-nav__back" @click="$router.go(-1)">
          <path fill="#969799" fill-rule="evenodd" d="M296.114 508.035c-3.22-13.597.473-28.499 11.079-39.105l333.912-333.912c16.271-16.272 42.653-16.272 58.925 0s16.272 42.654 0 58.926L395.504 498.47l304.574 304.574c16.272 16.272 16.272 42.654 0 58.926s-42.654 16.272-58.926 0L307.241 528.058a41.472 41.472 0 0 1-11.127-20.023z">
          </path>
        </svg>

        <div style="cursor: pointer;position: absolute;right: 40px;font-weight: bold;" >
                <a href="https://www.travellings.cn/go.html" target="_blank" rel="noopener" title="å¼€å¾€-å‹é“¾æ¥åŠ›">
                    <span style="font-size: 21px;">ğŸš‡</span>
                </a>
        </div>
        <!-- å³ä¸Šè§’èœå•å›¾æ ‡ -->
        <van-icon @click="popup_show=true"  style="cursor: pointer;position: absolute;right: 0;margin-right: 10px;font-weight: bold;" name="wap-nav" />
        
      </div>
      <div v-if="this.$route.name !== 'home'" style="height: 56px;"></div>


      <Tabbar v-if="this.$store.state.PAGE_STATE==='Tabbar'" style="position:fixed;" route>
        <TabbarItem icon="home-o"  to="/home">ä¸»é¡µ</TabbarItem>
        <TabbarItem icon="chat-o" to="/user/chat/history" :badge="$store.state.chat_badge">æ¶ˆæ¯</TabbarItem>
        <TabbarItem v-if="false" icon="envelop-o" @click="comming()">äº’åŠ¨</TabbarItem>
        <TabbarItem icon="contact-o" to="/user/info" >ä¸ªäººä¿¡æ¯</TabbarItem>
      </Tabbar>

      <!-- å³ä¸Šè§’èœå•å¼¹å‡º-->
      <van-popup v-model="popup_show" position="top" style="text-align: center;" >
        <div >
          <van-cell-group class="mycell">
            <van-cell  title="é¦–é¡µ"  is-link to="/home" @click="popup_show=false"/>
            <van-cell  title="åå°" is-link  :url=url @click="popup_show=false"/>
            <van-cell  title="å†å²èŠå¤©" is-link to="/user/chat/history" @click="popup_show=false">
              <template #title>
                <span class="custom-title" style="position: relative;">
                  æ¶ˆæ¯
                  <div v-if="$store.state.chat_badge!==''"  style="margin: 10px 0px 0 0;margin-left: auto;text-align: center;
                  border-radius: 20px;background-color: red;color: white;width: 20px;font-size: 12px;line-height: 18px;
                  position: absolute;bottom: -1px;right:-25px;">
                    {{$store.state.chat_badge}}
                  </div>
                </span>
              </template>
            </van-cell>
            <van-cell  title="ä¸ªäººä¿¡æ¯" is-link  to="/user/info" @click="popup_show=false" />
          </van-cell-group>
        </div>  
      </van-popup>

    </div>

    <router-view/>

    <div style="height: 100px;width: 20px;"></div>

    <!--åŠ è½½é®ç½©-->
    <div v-if="$store.state.zhezhao_show" class="zhezhao">
      <i class="el-icon-loading"></i>
    </div>

    <!--websocketæ¨é€å®æ—¶æ–°æ¶ˆæ¯-->
    <websocket />

    <!--æ¥æ”¶websocketçš„æ€»çº¿äº‹ä»¶-->
    <rootEvent event_name="socket_received_msg" @rootEvent="reLoadOne" />

    <!--æ¥æ”¶logoutçš„æ€»çº¿äº‹ä»¶-->
    <rootEvent event_name="logout" @rootEvent="logout" />

    <!--æ¥æ”¶photo_prevçš„æ€»çº¿äº‹ä»¶-->
    <rootEvent event_name="photo_prev" @rootEvent="url=>{photo_prev=url,$refs.cFImg.clickHandler()}" />

    <!--websocketæ¨é€ä¸Šæ   æ¨é€ä¸åœ¨ user/chat å’Œ user/chat/historyæ—¶ æ¨ä¸¤ç§’-->
    <div class="card_out_top" :style="card_out_margin_top" 
    @touchstart="handleTouchStart"
    @touchend="handleTouchEnd"
    @click="$router.push(`/user/chat?receiver_id=${column?.last_sender_id}`)">
      <div class="card_in_top">
        
        <img style="margin: auto 0;cursor: pointer;width:50px;height: 50px;border-radius: 90px;border: 2px solid white;"
        :src="column?.receiver.wechat_headimgurl?column.receiver.wechat_headimgurl:require('@/assets/default_headimg5.webp')"
        >
        <div>
          <!-- å -->
          <div style="text-align: start;margin: 5px 0 8px 10px;font-weight: bolder;font-size: small;">
            {{column?.receiver.wechat_nickname?column.receiver.wechat_nickname:column?.receiver.name}}
          </div>
          <!-- æœ€æ–°ä¸€æ¡å†…å®¹ -->
          <div style="margin: 10px 0 0 10px;color: rgb(100,100,100,0.6);text-align: start;font-size: small;">
            {{column?.last_info}}
          </div>
        </div>

      </div>
    </div>
    

    <el-image 
        v-show="false"
        ref="cFImg"
        :src="photo_prev" 
        :preview-src-list="[photo_prev]">
    </el-image>


  </div>
</template>


<script>
import axios from '@/utils'
import { Tabbar, TabbarItem } from 'vant';
import { Icon } from 'vant';
import { Popup } from 'vant';
import { Cell, CellGroup } from 'vant';
import websocket from '@/components/websocket/VE.vue'
import rootEvent from '@/components/receivedrootevent/VE.vue'
import { Dialog } from 'vant';
import { Search } from 'vant';
import { throttle } from 'lodash';
import vClickOutside from 'v-click-outside'
import { allowedPaths } from '@/router'
import { getuseroption } from '@/utils/methods'

const root = document.documentElement;

export default {
    directives: {
        'click-outside': vClickOutside.directive
    },
    components:{
        Tabbar,
        TabbarItem,
        'van-icon':Icon,
        'van-popup':Popup,
        'van-cell':Cell,
        'van-cell-group':CellGroup,
        websocket,
        rootEvent,
        Search
    },
    data() {
        return{
            option1m:[],
            photo_prev:null,
            dataResult:null,
            show_fenlei:false,
            input:null,
            column:null,
            card_out_margin_top:'margin-top:-100px;',
            url:process.env.VUE_APP_ADMIN_URL,
            popup_show:false,
            navbarItem:[
                {title:"é¦–é¡µ",path:"/home" ,active:false},
                {title:"åˆ†ç±»",path:"/home?FType",active:false},
                {title:"å½’æ¡£",path:"/guidang",active:false},
                {title:"å‹é“¾",path:"/friend",active:false},
                {title:"å…³äº",path:"/about",active:false},
            ],
            obj:null,
            type_trans:{}
        }
    },
    methods:{

        // æ˜æš—åˆ‡æ¢
        switch_change(todark){
            // æš—è‰²
            if(todark){
                localStorage.setItem('light_svg_show', false);
                root.style.setProperty('--html-bg', '#2c3e50f8'),this.$store.state.light_svg_show = false;
                root.style.setProperty('--shaixuan-color','#ffffff') // ç­›é€‰æ–‡å­—
                root.style.setProperty('--mulu','#ffffff') 
                root.style.setProperty('--mybordert-bg','rgb(243, 243, 244)') // å•†å“å¡æè¿°èƒŒæ™¯è‰²
                root.style.setProperty('--el-input--bg','#3a4a60') // è¯„è®ºè¾“å…¥æ¡†bg
                root.style.setProperty('--product-bg','#3a4a60') // productèƒŒæ™¯
                root.style.setProperty('--ptext-color','#f0f8ff') // æ ‡é¢˜æ–‡å­—è‰²
                root.style.setProperty('--ptext-color2','white') // æ ‡é¢˜æè¿°è‰²
                root.style.setProperty('--zhezhao-color','#2c3e50f8') // é®ç½©èƒŒæ™¯è‰²
                root.style.setProperty('--el-loading-mask-bg','#2c3e50f8') // v-loadingèƒŒæ™¯è‰²
                root.style.setProperty('--shadow1-color','rgba(150, 150, 150, 0.514)')
                root.style.setProperty('--shadow2-color','rgba(150, 150, 150, 0.377)')
                root.style.setProperty('--blockquote-color','honeydew')
                root.style.setProperty('--markdown-body-a','lightblue')
            }
            // æ˜è‰²
            else{
                root.style.setProperty('--mulu','none') 
                localStorage.setItem('light_svg_show', true);
                root.style.setProperty('--html-bg', 'rgb(243, 243, 244)'),this.$store.state.light_svg_show = true;
                root.style.setProperty('--shaixuan-color','#00000060')
                root.style.setProperty('--mybordert-bg','white')
                root.style.setProperty('--el-input--bg','white') 
                root.style.setProperty('--product-bg','white') 
                root.style.setProperty('--ptext-color','none') // ç»§æ‰¿appç±»é¢œè‰²
                root.style.setProperty('--ptext-color2','#00000060')
                root.style.setProperty('--zhezhao-color','rgba(255, 255, 255, 0.949)') // é®ç½©èƒŒæ™¯è‰² 
                root.style.setProperty('--el-loading-mask-bg','transparent') // v-loadingèƒŒæ™¯è‰²
                root.style.setProperty('--shadow1-color','rgba(0, 0, 0, 0.514)')
                root.style.setProperty('--shadow2-color','rgba(0, 0, 0, 0.377)')
                root.style.setProperty('--blockquote-color','#6a737d')
                root.style.setProperty('--markdown-body-a','#0366d6')
            }
        },
        getdataresult(){
            axios.get('/data-result/all')
                .then(response=>{
                    console.log(response.data)
                    this.dataResult = response.data
                    this.init_option1m_option2m()
                })
        },
        init_option1m_option2m(){
            axios.get(`/data-result/type_count`).then(response=>{
                console.log(response.data)
                const result = response.data.reduce((acc, item) => {
                    acc[item.type] = parseInt(item.count, 10); // å°† count è½¬æ¢ä¸ºæ•´æ•°å¹¶å­˜å…¥ acc å¯¹è±¡
                    return acc; // è¿”å›ç´¯åŠ å™¨ç»™ä¸‹ä¸€ä¸ªè¿­ä»£
                }, {});
                this.type_trans = result
                this.init_option1m_option2m2(result)
            })
            
        },
        init_option1m_option2m2(type_trans){
            this.option1m=[]
            const fenlei_map = this.dataResult.fenlei_map

            Object.keys(fenlei_map).forEach(key => {
                this.option1m.push({ text: fenlei_map[key]+" ( "+(type_trans[key]?type_trans[key]:0)+" ) ", value: key ,transValue: type_trans[key] || 0})
            })

            // æ ¹æ® transValue è¿›è¡Œæ’åº
            this.option1m.sort((a, b) => b.transValue - a.transValue)
        },
        logout(){
            this.obj = null
        },
        fenlei_click_outside(){
            this.show_fenlei = false
        },
        // å¯¼èˆªæ click
        click_notfenlei(index){
            console.log(index)
            this.navbarItem.forEach(item=>{
                item.active = false
            })
            this.navbarItem[index].active = true
            //å¦‚æœä¸åœ¨homeé¡µ)
            if(index!==0&&index!==1)root.style.setProperty('--background-color2', '#2c3e50');
            else root.style.setProperty('--background-color2', 'transparent');
            this.$router.push(this.navbarItem[index].path)
            //å¦‚æœåœ¨homeé¡µ)
            if(this.$route.path==='/home')this.$root.$emit('product_page_FType',null)
        },
        // åˆ†ç±»çš„å°èœå•click
        click_fenlei(index){
            this.navbarItem.forEach(item=>{
                item.active = false
            })
            this.navbarItem[1].active = true
            // äº‹ä»¶æ€»çº¿å‘å‡ºäº‹ä»¶(å¦‚æœåœ¨homeé¡µ)
            if(this.$route.path.startsWith('/home'))this.$root.$emit('product_page_FType',index)
            //å¦‚æœä¸åœ¨homeé¡µ)
            root.style.setProperty('--background-color2', 'transparent');
            this.$router.push(`/home?FType=${index}`)
            this.show_fenlei = false
        },
        handleScroll() {
            if(this.$route.path!=='/home'){
                root.style.setProperty('--background-color2', '#2c3e50');
                return
            }
            // æ›´æ–°æ»šåŠ¨é«˜åº¦
            //console.log("å½“å‰æ»šåŠ¨:"+window.scrollY)
            if(window.scrollY>200){
                root.style.setProperty('--background-color2', '#2c3e50');
            }else{
                root.style.setProperty('--background-color2', 'transparent');
            }
        },
        clicksearch(input){
            // äº‹ä»¶æ€»çº¿å‘å‡ºäº‹ä»¶
            this.$root.$emit('clicksearch',input)
        },
        comming(){
            Dialog.alert({message: '<h3>comming soon</h3>'})
        },
        async getUnreadNum(){
            await axios.get('/chat/getUnreadNum')
                .then(response=>{
                    if(response.data.data!=='0')this.$store.state.chat_badge = response.data.data
                    else this.$store.state.chat_badge = ""
                })
        },
        reLoadOne(data) {
            // è·å–æœªè¯»èŠå¤©æ•°
            this.getUnreadNum()
            // /chat/historyå’Œ å½“äº‹äººèŠå¤© ä¸å¼¹çª—
            if (this.$route.name === 'userchathistory' || 
        (this.$store.state.userchat_id === data.chatHistoryItemVo.last_sender_id && this.$route.name === 'userchat')) return;
            console.log(data);
            this.column = data.chatHistoryItemVo;
            this.card_out_margin_top = 'margin-top:0px;';
      
            // Clear previous timeout if any
            if (this.hideTimeout) {
                clearTimeout(this.hideTimeout);
            }
      
            // Set timeout to hide the card
            this.hideTimeout = setTimeout(() => {
                this.card_out_margin_top = 'margin-top:-100px;';
            }, 2000);
        },
        handleTouchStart() {
            if (this.hideTimeout) {
                clearTimeout(this.hideTimeout);
                this.hideTimeout = null;
            }
        },
        handleTouchEnd() {
            // Slightly longer timeout to avoid immediate hiding on touch end
            this.hideTimeout = setTimeout(() => {
                this.card_out_margin_top = 'margin-top:-100px;';
            }, 3000);
        },
        gotoback(){
            window.open(process.env.VUE_APP_ADMIN_URL, '_blank');
        },
        handleSelect(){
        },
        tohome(){
            if(this.$route.path!=='/')this.$router.push('/')
            else location.reload()
        },
        checknavbarItemWhichIsActive(){
            //åˆ¤æ–­å¯¼èˆªæ æ˜¯å¦æœ‰activeé€‰é¡¹
            this.navbarItem.forEach(item=>{
                console.log(item.path.slice(0, 10)+"::equals::"+this.$route.fullPath.slice(0, 10))
                if(item.path.slice(0, 10)===this.$route.fullPath.slice(0, 10)){
                    item.active = true
                }else{
                    item.active = false
                }
            })
        },
        handlePathChange(newPath, oldPath){
            console.log(oldPath)
            if(!newPath.startsWith('/home'))root.style.setProperty('--background-color2', '#2c3e50');
            this.checknavbarItemWhichIsActive()
        },
        async getuserinfo(){
            await axios.get('/user/info')
                .then(response=>{
                    if(response.data.code)this.isloading1=false
                    else this.$message.error("è·å–å¤±è´¥ï¼š"+response.data.msg)
                    this.obj = response.data.data
                }).catch(error=>{
                    console.log(error)
                    this.$message.error("è·å–å¤±è´¥ï¼š"+error.data.msg)
                })
        },
    },
    mounted(){
        // åˆ¤æ–­æ˜æš—å¸ƒå±€è‰²
        if (localStorage.getItem('light_svg_show') !== null) {
            this.$store.state.light_svg_show = localStorage.getItem('light_svg_show') === 'true';
        }
        this.switch_change(!this.$store.state.light_svg_show)

        this.getdataresult()
        //this.getuseroption() åœ¨
        // åˆ¤æ–­å¯¼èˆªæ åˆå§‹é¢œè‰²
        const root = document.documentElement;
        if(this.$route.path!=='/home')root.style.setProperty('--background-color2', '#2c3e50');
    
        //åˆ¤æ–­å¯¼èˆªæ æ˜¯å¦æœ‰activeé€‰é¡¹
        this.checknavbarItemWhichIsActive()

        this.$store.state.zhezhao_show = false
        // åœ¨ç»„ä»¶æŒ‚è½½åæ·»åŠ æ»šåŠ¨äº‹ä»¶ç›‘å¬å™¨ï¼Œå¹¶ä½¿ç”¨ Lodash çš„ throttle æ–¹æ³•
        this.throttledHandleScroll = throttle(this.handleScroll, 200); // æ¯ 200 æ¯«ç§’å¤„ç†ä¸€æ¬¡
        window.addEventListener('scroll', this.throttledHandleScroll);
        this.getUnreadNum()
        // åˆå§‹åŒ–æ—¶ æ£€æŸ¥ä¸€æ¬¡æœ¬åœ°å’Œ
        //æœåŠ¡å™¨å·²ç™»å½• ä½†æœ¬åœ°è®°å½•æ²¡ç™»å½•ï¼Œå°±åŒæ­¥ä¸ªåå­—,çŠ¶æ€æ”¹æˆç™»å½•
        axios.get('/user/name')
            .then(response=>{
                if(response.data.code){
                    this.$store.state.IsLogin = true
                    this.$store.state.UserName = response.data.data
                    this.$store.state.UserId = response.data.map.user_id
                    console.log(response.data.map.user_id)
                    getuseroption(response.data.map.user_id)
                    this.getuserinfo()
                }else{
                    //this.$message.error("error:"+response.data.msg);
                    this.$store.state.IsLogin = false
                    this.target_img_src = require('@/assets/default_headimg5.webp')
                    if(!allowedPaths.includes(this.$route.path)){
                        this.$router.push('/login')
                    }
                    //console.log('è·¯å¾„ç ”ç©¶')
                    //onsole.log(this.$route.path)
                    //console.log(this.$route.fullPath)
                }
            })
            .catch(error=>{
                this.$message.error(error.data.msg);
                console.log(error)
                this.$store.state.IsLogin = false
                this.target_img_src = require('@/assets/default_headimg5.webp')
            })


        


    },
    beforeDestroy() {
    // åœ¨ç»„ä»¶é”€æ¯å‰ç§»é™¤æ»šåŠ¨äº‹ä»¶ç›‘å¬å™¨
        window.removeEventListener('scroll', this.throttledHandleScroll);
    },
    watch: {
        '$route.path': function(newPath, oldPath) {
            console.log('Path changed from', oldPath, 'to', newPath);
            this.handlePathChange(newPath, oldPath);
        }
    },
}
</script>

<style scoped>
    #app {
    font-family: Avenir, Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-align: center;
    color: #2c3e50;
    }

.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;

  background-color: #2c3e50;
  border-radius: 5px;
}

.dropdown-item {
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: 550;
  color:aliceblue;
  height:50px;
  width:100px;
}
.dropdown-item:hover{
  background-color: var(--hover-color);
  transition: background-color 0.2s ease;
}

.dropdown-toggle::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translateX(-50%);
  border-width: 5px;
  border-style: solid;
  border-color: aliceblue transparent transparent transparent; /* è°ƒæ•´é¢œè‰² */
  margin-left: 25px;
}
.navbar{
  height:60px;
  background-color: var(--background-color2);
  display: flex;
  font-weight: 550;
  position: fixed;  /* ä» relative æ”¹ä¸º fixed */
  top: 0;           /* å®šä½åˆ°é¡µé¢é¡¶éƒ¨ */
  left: 0;          /* å®šä½åˆ°é¡µé¢å·¦è¾¹ */
  width: 100%;      /* è®©å¯¼èˆªæ å®½åº¦æ‰©å±•è‡³å…¨å± */
  box-sizing: border-box; /* åŒ…å«å†…è¾¹è·å’Œè¾¹æ¡†åœ¨å†… */
  transition: background-color 0.2s ease;
  z-index: 2;
}
.xiba{
  color:aliceblue;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: auto 3vw;
  white-space: nowrap; /* ç¦æ­¢æ¢è¡Œ */
  font-size: 20px;
}
.navbarItem{
  height: 100%;
  max-width: 100px;
  width:8vw;
  display: flex;
  justify-content: center;
  align-items: center;
  color:aliceblue;
  cursor: pointer;
  transition: background-color 0.2s ease;
  white-space: nowrap; /* ç¦æ­¢æ¢è¡Œ */
  position: relative;
}

.navbarItem:hover{
  background-color: var(--hover-color);
  transition: background-color 0.2s ease;
}
.navbarItem.active{
  background-color: var(--hover-color);
}
/* å¯¼èˆªæ è¢«é€‰ä¸­æ—¶çš„å€’ä¸‰è§’ */
.navbarItem.active::after {
  content: "";
  position: absolute;
  left: 50%;
  top:100%;
  transform: translateX(-50%);
  border-width: 10px;
  border-style: solid;
  border-color: var(--background-color2) transparent transparent transparent; /* è°ƒæ•´é¢œè‰² */
  z-index:1;
}
/* å¯¼èˆªæ è¢«é€‰ä¸­æ—¶çš„å€’ä¸‰è§’ï¼ˆé®ç½©è‰²ï¼‰ */
.navbarItem.active::before {
  content: "";
  position: absolute;
  left: 50%;
  top:100%;
  transform: translateX(-50%);
  border-width: 10px;
  border-style: solid;
  border-color: var(--hover-color) transparent transparent transparent; /* è°ƒæ•´é¢œè‰² */
  z-index:2;
}


.navR{
  margin-left: auto;
  display: flex;
}
.navbar .van-search {
  background-color: var(--background-color2) !important;
  height: 100%;
  font-weight: 500;
  width: 200px !important;
}
.navbar .van-search__content--round{
  background-color: #67819c95 !important;
}

::v-deep .navR .van-field__control {
  color: aliceblue; /* ä¿®æ”¹è¾“å…¥åæ–‡å­—é¢œè‰² */
}


.el-menu--horizontal > .el-menu-item {
  border-bottom: none !important;
  background-color: transparent !important;
  color: inherit !important;
}
.el-menu-item:hover {
  border-bottom: none !important;
  background-color:white !important;
}
.homehover:hover{
  background-color: red;
}

.card_out_top{
  position: fixed;
  width:100%;
  display: flex;
  justify-content: center;
  align-items: center;
  top:0;
  z-index: 9999;
  transition: margin-top 0.7s ease;
}

.card_in_top{
  background-color: rgba(242, 242, 242, 0.894);
  margin: 8px 0 0 0;
  padding: 10px 10px;
  display:flex;
  cursor: pointer;
  width:85%;
  border-radius: 10px;
}
</style>

<style>
.markdown-body blockquote{
    color:var(--blockquote-color) !important;
}

.markdown-body a {
    color: var(--markdown-body-a) !important;
}


.my-wrapper{
    position: relative; 
    z-index: 20; 
}
.van-overflow-hidden {
    overflow: scroll !important;
    overflow-x: hidden !important;
}


.demo-nav {
    position: fixed;  /* ä» relative æ”¹ä¸º fixed */
    top: 0;           /* å®šä½åˆ°é¡µé¢é¡¶éƒ¨ */
    left: 0;          /* å®šä½åˆ°é¡µé¢å·¦è¾¹ */
    width: 100%;      /* è®©å¯¼èˆªæ å®½åº¦æ‰©å±•è‡³å…¨å± */
    display: flex;
    align-items: center;
    justify-content: center;
    height: 56px;
    background-color: #fff;
    z-index: 1000;    /* ç¡®ä¿å¯¼èˆªæ ä½äºå…¶ä»–å†…å®¹ä¹‹ä¸Š */
}

.demo-nav__title {
    font-weight: 600;
    font-size: 17px;
    text-transform: capitalize;
}
.demo-nav__back {
    position: absolute;
    top: 16px;
    left: 16px;
    width: 24px;
    height: 24px;
    cursor: pointer;
}
.van-icon-wap-nav{
  line-height: 30px;
}
.mycell > div{
  font-size:14px;

}
.zhezhao{
  position: absolute;
  top:0;
  width: 100%;
  height: 100%;
  z-index:9999999;
  background-color: var(--zhezhao-color);
  display: flex;
  align-items: center;
  justify-content: center;
}
.zhezhao > i{
  font-size: 80px;
  color: #0000005f;
}

</style>

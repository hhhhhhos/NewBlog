(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-699d802a"],{3612:function(t,e,i){"use strict";i.r(e);var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fenlei"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.add_re(),t.dialogtitle="新增",t.dialogVisible=!0}}},[t._v("新增分类")]),e("el-table",{staticStyle:{width:"100%",margin:"20px 0"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"key",align:"center",label:"分类数字",width:"80"}}),e("el-table-column",{attrs:{align:"center",prop:"color",label:"分类颜色",width:"120"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"juzhong"},[e("p",{staticClass:"juzhong",style:"margin-right:5px;width: 16px;height: 16px;background-color: ".concat(i.row.color,";")}),e("p",{staticClass:"juzhong"},[t._v(t._s(i.row.color))])])]}}])}),e("el-table-column",{attrs:{align:"center",prop:"value",label:"分类名称"}}),e("el-table-column",{attrs:{width:"280",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleEdit(i.$index,i.row)}}},[t._v("编辑")]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(i.$index,i.row)}}},[t._v("删除")])]}}])})],1),e("el-dialog",{attrs:{title:t.dialogtitle,visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{attrs:{"label-width":"100px"}},[e("el-form-item",{attrs:{label:"分类数字"}},[e("el-input",{staticStyle:{width:"300px"},model:{value:t.new_index,callback:function(e){t.new_index=e},expression:"new_index"}}),e("p",{staticStyle:{margin:"0"}},[t._v("最好数字不然可能报错")])],1),e("el-form-item",{attrs:{label:"数字类名"}},[e("el-input",{staticStyle:{width:"300px"},model:{value:t.new_item,callback:function(e){t.new_item=e},expression:"new_item"}})],1),e("el-form-item",{attrs:{label:"类名颜色"}},[e("div",[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("el-input",{staticStyle:{width:"300px"},model:{value:t.new_color,callback:function(e){t.new_color=e},expression:"new_color"}}),e("div",{staticClass:"card-type",style:"background-color: ".concat(t.new_color,";")},[e("div",[t._v(" "+t._s(t.new_item)+" ")])])],1),e("p",{staticStyle:{"margin-top":"5px"}},[t._v("颜色必须十六进制，不填默认#555555")])])])],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.addorupdate}},[t._v("确 定")])],1)],1)],1)},n=[],a=i("3835"),s=(i("e9c4"),i("4fad"),i("b64b"),i("a27e")),o={data:function(){return{tableData:[],dataResult:{home_visitors:null,back_visitors:null,comment_total_num:null,product_total_num:null,en_list:null,cn_list:null,co_list:null,fenlei_map:null,biaoqian_map:null},new_index:null,new_item:null,new_color:null,dialogVisible:!1,dialogtitle:"",row:null}},methods:{add_re:function(){this.new_item="",this.new_index="",this.new_color=""},handleDelete:function(t,e){delete this.dataResult.fenlei_map[e.key],this.updateall()},handleEdit:function(t,e){this.row=e,this.new_item=e.value,this.new_index=e.key,this.new_color=e.color,this.dialogtitle="修改",this.dialogVisible=!0},addorupdate:function(){return this.new_index&&this.new_item?"新增"===this.dialogtitle&&this.dataResult.fenlei_map[this.new_index]?this.$message.error("index已存在，小心覆盖"):("新增"===this.dialogtitle?(this.dataResult.fenlei_map[this.new_index]=this.new_item,this.dataResult.fenlei_color_map[this.new_index]=this.new_color):(delete this.dataResult.fenlei_map[this.row.key],this.dataResult.fenlei_map[this.new_index]=this.new_item,delete this.dataResult.fenlei_color_map[this.row.key],this.dataResult.fenlei_color_map[this.new_index]=this.new_color),void this.updateall()):this.$message.error("为空")},getall:function(){var t=this;s["a"].get("/data-result/all").then((function(e){console.log(e.data),t.dataResult=e.data;for(var i=[],l=0,n=Object.entries(t.dataResult.fenlei_map);l<n.length;l++){var s=Object(a["a"])(n[l],2),o=s[0],r=s[1];i.push({key:o,value:r,color:t.dataResult.fenlei_color_map[o]})}t.tableData=JSON.parse(JSON.stringify(i))}))},updateall:function(){var t=this,e=JSON.parse(JSON.stringify(this.dataResult));s["a"].post("/data-result/updatebyadmin",e).then((function(e){e?(t.$message.success("更新成功"),t.dialogVisible=!1,t.getall()):t.$message.error("更新失败")})).catch((function(e){t.$message.error(e)}))}},mounted:function(){this.getall()}},r=o,u=(i("ff3e"),i("2877")),c=Object(u["a"])(r,l,n,!1,null,"3f803532",null);e["default"]=c.exports},"4fad":function(t,e,i){var l=i("23e7"),n=i("6f53").entries;l({target:"Object",stat:!0},{entries:function(t){return n(t)}})},"6f53":function(t,e,i){var l=i("83ab"),n=i("df75"),a=i("fc6a"),s=i("d1e7").f,o=function(t){return function(e){var i,o=a(e),r=n(o),u=r.length,c=0,d=[];while(u>c)i=r[c++],l&&!s.call(o,i)||d.push(t?[i,o[i]]:o[i]);return d}};t.exports={entries:o(!0),values:o(!1)}},c7d0:function(t,e,i){},e9c4:function(t,e,i){var l=i("23e7"),n=i("d066"),a=i("d039"),s=n("JSON","stringify"),o=/[\uD800-\uDFFF]/g,r=/^[\uD800-\uDBFF]$/,u=/^[\uDC00-\uDFFF]$/,c=function(t,e,i){var l=i.charAt(e-1),n=i.charAt(e+1);return r.test(t)&&!u.test(n)||u.test(t)&&!r.test(l)?"\\u"+t.charCodeAt(0).toString(16):t},d=a((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&l({target:"JSON",stat:!0,forced:d},{stringify:function(t,e,i){var l=s.apply(null,arguments);return"string"==typeof l?l.replace(o,c):l}})},ff3e:function(t,e,i){"use strict";i("c7d0")}}]);